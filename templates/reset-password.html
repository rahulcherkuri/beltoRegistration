<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belto - Reset Password</title>

    <style>
        button, input {
            display: block;
            margin-bottom: 10px;
        }

        #alert {
            display: none;
            color: red;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <br><br><br>

    <form id="security-question-form">
        <div id="alert"></div>

        <div id="security-question-1-container">
            <label for="security-question-1">Security Question 1</label>
            <div id="security-question-1-text"></div>
            <input type="text" id="security-question-1" name="security-question-1" required>
        </div>
      
        <div id="security-question-2-container">
            <label for="security-question-2">Security Question 2</label>
            <div id="security-question-2-text"></div>
            <input type="text" id="security-question-2" name="security-question-2" required>
        </div>
      
        <div id="security-question-3-container">
            <label for="security-question-3">Security Question 3</label>
            <div id="security-question-3-text"></div>
            <input type="text" id="security-question-3" name="security-question-3" required>
        </div>
      
        <button type="submit">Validate</button>
    </form>

    <form id="password-reset-form">
        <br><br><br>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
      
        <label for="password-verify">Re-type password</label>
        <input type="password" id="password-verify" name="password-verify" required>
      
        <button type="submit">Reset password</button>
    </form>

    <script>
        // Fetch security questions from the database
        async function fetchSecurityQuestions() {
            try {
                const response = await fetch('/get_security_questions'); // Adjust the URL as needed
                const data = await response.json();

                document.getElementById('security-question-1-text').innerText = data.question1;
                document.getElementById('security-question-2-text').innerText = data.question2;
                document.getElementById('security-question-3-text').innerText = data.question3;
            } catch (error) {
                console.error('Error fetching security questions:', error);
            }
        }

        // Call the function to fetch and render security questions
        fetchSecurityQuestions();
    </script>
</body>
</html>

